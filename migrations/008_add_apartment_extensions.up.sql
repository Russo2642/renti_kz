-- Создаем таблицу для правил дома
CREATE TABLE house_rules (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Создаем таблицу для популярных удобств
CREATE TABLE popular_amenities (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Заполняем таблицу правил дома
INSERT INTO house_rules (name, description) VALUES
('Курение запрещено', 'Запрещено курение в помещении и на балконе'),
('Без вечеринок и мероприятий', 'Запрещено проведение шумных вечеринок и мероприятий'),
('Без домашних животных', 'Проживание с домашними животными запрещено'),
('Тихое время с 22:00 до 8:00', 'Запрещается шуметь в указанное время'),
('Нельзя с детьми', 'Проживание с детьми не допускается'),
('Проверка при заселении/выселении', 'Обязательная проверка состояния квартиры при заселении и выселении'),
('Уборка при выезде', 'Необходимо убрать квартиру перед выездом'),
('Запрет на дополнительных гостей', 'Запрещено приглашать дополнительных гостей без согласования с хозяином'),
('Без обуви в квартире', 'Запрещено ходить в обуви по квартире');

-- Заполняем таблицу популярных удобств
INSERT INTO popular_amenities (name, description) VALUES
('Бесплатный Wi-Fi', 'Высокоскоростной интернет на всей территории квартиры'),
('Торговые центры поблизости', 'В шаговой доступности находятся торговые центры'),
('Парковка', 'Доступна бесплатная парковка рядом с домом'),
('Кондиционер', 'В квартире установлен кондиционер'),
('Телевизор', 'В квартире есть телевизор с кабельным/спутниковым ТВ'),
('Стиральная машина', 'В квартире есть стиральная машина'),
('Фен', 'В ванной комнате имеется фен'),
('Утюг и гладильная доска', 'В квартире есть утюг и гладильная доска'),
('Посудомоечная машина', 'В квартире есть посудомоечная машина'),
('Микроволновая печь', 'В квартире есть микроволновая печь'),
('Балкон', 'В квартире есть балкон'),
('Лифт в здании', 'В здании есть лифт'),
('Рестораны поблизости', 'В шаговой доступности находятся рестораны и кафе'),
('Общественный транспорт', 'Рядом остановки общественного транспорта'),
('Зеленая зона', 'Рядом парк или сквер для прогулок'); 


ALTER TABLE apartments ADD COLUMN description TEXT;
ALTER TABLE apartments ADD COLUMN house_rules_id INTEGER REFERENCES house_rules(id);
ALTER TABLE apartments ADD COLUMN amenities_id INTEGER REFERENCES popular_amenities(id);
